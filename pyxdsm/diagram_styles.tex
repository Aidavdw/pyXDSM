% Define all the styles used to produce XDSMs for MDO
% \definecolor{tableau0}{RGB}{31,119,180}
% \definecolor{tableau1}{RGB}{255,158,74}
% \definecolor{tableau2}{RGB}{103,191,92}
% \definecolor{tableau3}{RGB}{237,102,93}
% \definecolor{tableau4}{RGB}{148,103,189}
% \definecolor{tableau5}{RGB}{168,120,110}
% \definecolor{tableau6}{RGB}{237,151,202}
% \definecolor{tableau7}{RGB}{162,162,162}
% \definecolor{tableau8}{RGB}{205,204,93}
% \definecolor{tableau9}{RGB}{109,204,218}

% Color palette is defined according to Tableau 10.
% (https://www.tableau.com/about/blog/2016/7/colors-upgrade-tableau-10-56782)

% Blue
\definecolor{tableau0}{RGB}{77, 121, 168}
% Orange
\definecolor{tableau1}{RGB}{242, 142, 43}
% Red
\definecolor{tableau2}{RGB}{255, 87, 88}
% Cyan
\definecolor{tableau3}{RGB}{118, 183, 178}
% Green
\definecolor{tableau4}{RGB}{89, 161, 78}
% Yellow
\definecolor{tableau5}{RGB}{237, 201, 72}
% Purple
\definecolor{tableau6}{RGB}{176, 121, 162}
% Salmon
\definecolor{tableau7}{RGB}{255, 157, 167}
% Beown
\definecolor{tableau8}{RGB}{156, 116, 94}
% Gray
\definecolor{tableau9}{RGB}{186, 176, 172}


\tikzstyle{every node}=[font=\sffamily,align=center]

\newcommand{\fillOpacity}{25}

% Component shapes
\newcommand{\compShape}{rectangle}
\newcommand{\groupShape}{chamfered rectangle}
\newcommand{\procShape}{rounded rectangle}

% Colors
\newcommand{\explicitColor}{tableau4}
\newcommand{\implicitColor}{tableau3}
\newcommand{\optimizationColor}{tableau0}

% Component types
\tikzstyle{Optimization} = [\procShape,draw,fill=\optimizationColor!\fillOpacity,inner sep=6pt,minimum height=1cm,text badly centered]
\tikzstyle{MDA} = [\procShape,draw,fill=tableau1!\fillOpacity,inner sep=6pt,minimum height=1cm,text badly centered]
\tikzstyle{DOE} = [\procShape,draw,fill=tableau8!\fillOpacity,inner sep=6pt,minimum height=1cm,text badly centered]
\tikzstyle{SubOptimization} = [\groupShape,draw,fill=\optimizationColor!\fillOpacity,inner sep=6pt,minimum height=1cm,text badly centered]
\tikzstyle{Group} = [\groupShape,draw,fill=\explicitColor!\fillOpacity,inner sep=6pt,minimum height=1cm,text badly centered]
\tikzstyle{ImplicitGroup} = [\groupShape,draw,fill=\implicitColor!\fillOpacity,inner sep=6pt,minimum height=1cm,text badly centered]
\tikzstyle{Function} = [\compShape,draw,fill=\explicitColor!\fillOpacity,inner sep=6pt,minimum height=1cm,text badly centered]
\tikzstyle{ImplicitFunction} = [\compShape,draw,fill=\implicitColor!\fillOpacity,inner sep=6pt,minimum height=1cm,text badly centered]
\tikzstyle{Metamodel} = [\compShape,draw,fill=tableau5!\fillOpacity,inner sep=6pt,minimum height=1cm,text badly centered]

%% A simple command to give the repeated structure look for components and data
\tikzstyle{stack} = [double copy shadow={shadow xshift=.75ex, shadow yshift=-.75ex}]
%% A simple command to fade components and data, e.g. demonstrating a sequence of steps in an animation
\tikzstyle{faded} = [draw=black!50,fill=white,text opacity=0.5]

%% Simple fading commands for the lines
\tikzstyle{fadeddata} = [color=black!20]
\tikzstyle{fadedprocess} = [color=black!50]

% Data types
\newcommand{\dataRightAngle}{105}
\newcommand{\dataLeftAngle}{75}

\tikzstyle{DataInter} = [trapezium,trapezium left angle=\dataLeftAngle,trapezium right angle=\dataRightAngle,draw,fill=black!10]
\tikzstyle{DataIO} = [trapezium,trapezium left angle=\dataLeftAngle,trapezium right angle=\dataRightAngle,draw,fill=white]

% Edges
\tikzstyle{DataLine} = [color=black!40,line width=5pt,line cap=rect]
\tikzstyle{ProcessHV} = [-,line width=1pt,to path={-| (\tikztotarget)}]
\tikzstyle{ProcessHVA} = [->,line width=1pt,to path={-| (\tikztotarget)}]
\tikzstyle{ProcessTip} = [-,line width=1pt]

% Matrix options
\tikzstyle{MatrixSetup} = [row sep=3mm, column sep=2mm]

% Declare a background layer for showing node connections
\pgfdeclarelayer{data}
\pgfdeclarelayer{process}
\pgfsetlayers{data,process,main}

% A new command to split the component text over multiple lines

\newcommand{\MultilineComponent}[2]
{
	\begin{minipage}{#1}
	\begin{center}
		#2
	\end{center}
	\end{minipage}
}

\newcommand{\TwolineComponent}[3]
{
	\begin{minipage}{#1}
	\begin{center}
		#2 \linebreak #3
	\end{center}
	\end{minipage}
}

\newcommand{\ThreelineComponent}[4]
{
	\begin{minipage}{#1}
	\begin{center}
		#2 \linebreak #3 \linebreak #4
	\end{center}
	\end{minipage}
}

% A new command to split the component text over multiple columns
\newcommand{\MultiColumnComponent}[5]
{
	\begin{minipage}{#1}
	\begin{center}
	#2 \linebreak #3
	\end{center}
	\begin{minipage}{0.49\textwidth}
	\begin{center}
	#4
	\end{center}
	\end{minipage}
	\begin{minipage}{0.49\textwidth}
	\begin{center}
	#5
	\end{center}
	\end{minipage}
	\end{minipage}
}

\def\arraystretch{1.3}